<!DOCTYPE html>
<html>

<body>
  <!-- 1. The <iframe> (and video player) will replace these <div> tags. -->
  <div id="player1"></div>
  <div id="player2"></div>
  <div id="player3"></div>
  <div id="player4"></div>
  <div id="player5"></div>
  <div id="player6"></div>
  <div id="player7"></div>
  <div id="player8"></div>
  <div id="player9"></div>
  <div id="player10"></div>
  <div id="player11"></div>
  <div id="player12"></div>
  <div id="player13"></div>
  <div id="player0"></div>

  <script>
    // 2. This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/player_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    // 3. This function creates <iframe> elements (and YouTube players)
    //    after the API code downloads.
    function onPlayerReady(event) {
      console.log("test");
      event.target.setPlaybackQuality('small');
    }
    function onYouTubeIframeAPIReady() {
      let _apiBaseURL = "https://raw.githubusercontent.com/hdayakar/channels/main/list.json";
      fetch(_apiBaseURL)
        .then(response => response.json())
        .then(data => {
          data.forEach((channel, index) => {
            console.log("id"+channel["id"]);
            if (channel.category == "news") {
              new YT.Player("player"+index, {
                height: '240',
                width: '426',
                videoId: channel["id"],
                host: 'https://www.youtube-nocookie.com',
                playerVars: {
                  'playsinline': 1,
                  'autoplay': 1,
                  'mute': 1
                },
                events: {
                  'onReady': onPlayerReady
                }
              });
            }
            // console.log(`Category: ${channel.category}`);
            // console.log(`ID: ${channel.id}`);
            // console.log(`Thumbnail: ${channel.thumbnail}`);
            // console.log(`Type: ${channel.type}`);
          });
        })
      // player = new YT.Player('player', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'II_m28Bm-iM',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player2 = new YT.Player('player2', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'HoYsWagMFfE',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player3 = new YT.Player('player3', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'L0RktSIM980',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player4 = new YT.Player('player4', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'KvZIEgHfscU',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player5 = new YT.Player('player5', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'oWnkRvZb5fE',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player6 = new YT.Player('player6', {
      //   height: '240',
      //   width: '426',
      //   videoId: '_xtceKvlVYQ',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player7 = new YT.Player('player7', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'byG7EGw9NPs',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player8 = new YT.Player('player8', {
      //   height: '240',
      //   width: '426',
      //   videoId: '8McTsOqeueE',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player9 = new YT.Player('player9', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'JnuYyOJ0XLU',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player10 = new YT.Player('player10', {
      //   height: '240',
      //   width: '426',
      //   videoId: '3JodH4xoqJs',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player11 = new YT.Player('player11', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'NvR9sEU6FJY',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player12 = new YT.Player('player12', {
      //   height: '240',
      //   width: '426',
      //   videoId: '4PpS_RGUzfQ',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player13 = new YT.Player('player13', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'ffI9-IioJK8',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
      // player14 = new YT.Player('player14', {
      //   height: '240',
      //   width: '426',
      //   videoId: 'qcyV3X7R1Cc',
      //   playerVars: {
      //     'playsinline': 1,
      //     'autoplay': 1,
      //     'mute': 1
      //   },
      //   events: {
      //     'onReady': onPlayerReady
      //   }
      // });
    }
  </script>
</body>

</html>
